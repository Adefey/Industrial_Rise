# Домашнее задание №2 по курсу промышленной разработки на C++
## Map/Reduce
Коленков Андрей
Кадиев Алан
Ермаков Василий

### Разбиение на файлы фиксированного размера
Все входные файлы соединяются в один большой файл в функции ```void IndustrialMapReduce::FilesToBuf()```, который лежит в ```tmp_dir```. Затем, этот большой файл читается построчно (что обеспечивает разбиение по ```\n```) и, когда достигнут размер сплита, все считанное пишется в файл. Количество таких файлов задается пользователем. Информация пишется в файлы ```splitted_#```.


### IMapper
Интерфейс для пользователя для реализации своего маппера. Пользователь должен перегрузить оператор ().

### SetMapper
Устанавливает созданный пользовательский маппер для текущей джобы

### Map
После разделения входных файлов по сплитам в соответствии с парадигмой map-reduce необходимо в несколько потоков обработать данные сплиты. Обработка сплита осуществляется с помощью функции mapper, написанной самим пользователем. Результат обработки будет записан в структуру post_mapper, представляющую собой вектор векторов пар. Далее, post_mapper будет использоваться при reduce'е

### Shuffle
Распределяет значения из ```post_mapper``` в ```pred_reducer```. Данные по редьюсерам распределяются равномерно и с учетом сортировки.

### IReducer
Интерфейс для пользователя для реализации своего редьюсера. Пользователь должен перегрузить оператор ().

### SetReducer
Устанавливает созданный пользовательский редьюсер для текущей джобы

### Reduce
Применяет пользовательский редьюсер к данным из ```pred_reducer``` и записывает получившиеся данные в файл ```reduced_#```.

### Сборка проекта
Для прохождения всего пайплайна, просто напишите в главной директории
```make```

Для сборки только приложения, напишите
```make build_app```

Для сборки только юнит теста, напишите
```make build_test```

### Юнит тесты
Для запуска юнит тестов можно выполнить
```make run_test```

И затем для получения отчета о покрытии
```make make_report```

Также, этот отчет публикуется в GitHub Actions

### Интеграционные тесты
Для запуска интеграционных тестов можно выполнить
```
make integrational_test
```
или
```
python3 ./test/integration/test.py
```
